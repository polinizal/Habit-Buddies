@{
    ViewData["Title"] = "Home Page";
}

<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8' />
</head>
<body>
    <div class="text-center">
        <h1 class="display-4">Welcome @User.Identity.Name</h1>
        <h2>You have ... experience</h2>
    </div>

    <div class="d-flex justify-content-around">
        <button type="button" class="btn btn-outline-secondary mb-3" onclick="location.href='@Url.Action("Create","Habits")'"><i class="bi bi-plus-square"></i> CREATE HABIT</button>
        <button type="button" class="btn btn-outline-secondary mb-3" onclick="location.href='@Url.Action("Create","FakeFriends")'"><i class="bi bi-plus-square"></i> CREATE FRIEND</button>
    </div>

    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.5/index.global.min.js'></script>
    <script>

        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                events:'/MyHabits',
                eventColor: '#F2D7D9',
                 eventClick:  function(info) {
                     console.log('clicked');
                     console.log(info.event);                                          
                    document.querySelector('#habitTitle').innerHTML = info.event.title;
                    document.querySelector('#details-title').innerHTML = info.event.extendedProps.title;
                    document.querySelector('#details-description').innerHTML = info.event.extendedProps.description;
                    document.querySelector('#details-goal').innerHTML = info.event.extendedProps.goal;
                    document.querySelector('#details-startdate').innerHTML = info.event.extendedProps.startDate;
                    document.querySelector('#details-enddate').innerHTML = info.event.extendedProps.endDate;
                    
                    var myModal = new bootstrap.Modal(document.getElementById('myModal'), { keyboard: false });
                    myModal.show(); 
                    
                },
            });
            calendar.render();
        });

    </script>
    <div id='calendar'></div>
    <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Habit <span id="habitTitle"></span></h4>
                </div>
                <div class="modal-body">
                    <p id="pDetails">
                        Title = <span id="details-title"></span>
                        Description = <span id="details-description"></span>
                        Goal = <span id="details-goal"></span>
                        Start = <span id="details-startdate"></span>
                        End = <span id="details-enddate"></span>
                        Allday= <span id="details-allday"></span>
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>